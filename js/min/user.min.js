function login(){var e=$("#username").val(),a=$("#password").val(),o=$("#sign").val();console.log("login()",e,a,o),$.get({url:"api.user.php",timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"login",username:e,password:a,sign:o},error:function(e){console.log("Request Error",e.responseText)}}).done(function(e){console.log(e),1==e.return?($("#btn-submit").addClass("-loading"),$("#btn-submit").html("กำลังเข้าระบบ..."),setTimeout(function(){window.location="index.php?login=success"},1e3)):0==e.return?alert("เข้าระบบไม่สำเร็จ กรุณาตรวจสอบอีกครั้ง!"):-1==e.return&&alert("คุณต้องรออีก 5 นาที เพื่อเข้าระบบใหม่!")}).fail(function(){alert("ระบบทำงานผิดพลาด กรุณาลองใหม่อีกครั้ง!"),$("#password").focus(),$("#password").val("")})}function register(){var e=$("#email").val(),a=$("#name").val(),o=$("#password").val(),n=$("#sign").val();return""==a?($("#name").focus(),!1):""==e?(alert("คุณยังไม่ได้ใส่อีเมล!"),$("#email").focus(),!1):""==o?(alert("คุณยังไม่ได้กรอกรหัสผ่าน!"),$("#password").focus(),!1):($progress=$("#progress-bar"),$progress.fadeIn(300),$progress.animate({width:"30%"},300),$.ajax({url:"api.user.php",timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"register",email:e,name:a,password:o,sign:n},error:function(){console.log("Request Error")}}).done(function(e){var a=$("#invite_code").val();$progress.animate({width:"70%"},300),0!=e.return?($("#btn-register").addClass("-loading"),$("#btn-register").html("กำลังลงทะเบียน..."),$progress.animate({width:"100%"},300),setTimeout(function(){window.location=""!=a?"invite?c="+a:"index.php?regsiter=success"},1e3)):($progress.animate({width:"0%"},300),alert("อีเมลนี้มีในระบบแล้ว!"))}).fail(function(){alert("ระบบทำงานผิดพลาด กรุณาลองใหม่อีกครั้ง!"),$progress.animate({width:"0%"},300),$("#password").focus(),$("#password").val("")}),void 0)}$(document).ready(function(){$(".btn-new-article").click(function(){$(".choose-dialog").fadeIn(100),$("#filter").fadeIn(300),$("#filter").click(function(){$(".choose-dialog").fadeOut(300),$(this).fadeOut(100)})})});