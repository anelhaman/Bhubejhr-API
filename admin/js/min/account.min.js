var api_url="api.account.php";$(document).ready(function(){function t(){$createAccountDialog.fadeOut(300),$createAccountFilter.fadeOut(100)}var e=$("#sign").val();$btnCreateAccount=$("#btnCreateAccount"),$createAccountDialog=$("#createAccountDialog"),$btnCloseCreateAccount=$("#btnCloseCreateAccount"),$btnSubmitCreateAccount=$("#btnSubmitCreateAccount"),$createAccountFilter=$("#createAccountFilter"),$btnCreateAccount.click(function(){$createAccountDialog.fadeIn(300),$createAccountFilter.fadeIn(100),$("#displayname").focus()}),$btnCloseCreateAccount.click(function(){t()}),$("#account").on("click",".btn-setadmin",function(){var t=$(this).parent().attr("data-account");$.get({url:api_url,timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{request:"setAdmin",account_id:t,sign:e},error:function(t){console.log("Request Error",t.responseText)}}).done(function(t){console.log(t),location.reload()}).fail(function(){alert("Fail!")})}),$("#account").on("click",".btn-approve",function(){var t=$(this).parent().attr("data-account");$.get({url:api_url,timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{request:"approve",account_id:t,sign:e},error:function(t){console.log("Request Error",t.responseText)}}).done(function(t){console.log(t),location.reload()}).fail(function(){alert("Fail!")})}),$("#account").on("click",".btn-disable",function(){var t=$(this).parent().attr("data-account");$.get({url:api_url,timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{request:"disable",account_id:t,sign:e},error:function(t){console.log("Request Error",t.responseText)}}).done(function(t){console.log(t),location.reload()}).fail(function(){alert("Fail!")})}),$("#accountPermission").on("click",".permission-items",function(){var t=$(this).attr("data-permission");$(".permission-items").removeClass("-active"),$(this).addClass("-active"),$("#account_permission").val(t)}),$btnSubmitCreateAccount.click(function(){var t=$("#displayname").val(),o=$("#username").val(),n=$("#password").val(),a=$("#account_permission").val();console.log("password",n),$.get({url:api_url,timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{request:"create_account",displayname:t,username:o,password:n,account_permission:a,sign:e},error:function(t){console.log("Request Error",t.responseText)}}).done(function(t){console.log(t),location.reload()}).fail(function(){alert("Fail!")})})});