function databaseChecking(){$dbStatus.html("CHECKING..."),$.ajax({url:"database_checking.php",cache:!1,dataType:"json",type:"POST",error:function(e){console.log("Request Error",e.responseText)}}).done(function(e){console.log(e.connection),e.connection?($dbStatus.addClass("-active"),$dbStatus.html("ONLINE")):($dbStatus.removeClass("-active"),$dbStatus.html("OFFLINE"),setTimeout(databaseChecking,6e4))})}var api_url="api.app.php";$(document).ready(function(){function e(){$createAppDialog.fadeOut(300),$createDialogFilter.fadeOut(300),$btnDeleteApp.fadeOut(100),$("#app_id").val(""),$("#app_name").val(""),$("#app_description").val("")}$btnCreateApp=$("#btnCreateApp"),$createAppDialog=$("#createAppDialog"),$createDialogFilter=$("#createDialogFilter"),$btnCloseCreateApp=$("#btnCloseCreateApp"),$btnSubmitCreateApp=$("#btnSubmitCreateApp"),$btnDeleteApp=$("#btnDeleteApp"),$dbStatus=$("#db_status"),databaseChecking(),$btnCreateApp.click(function(){$createAppDialog.fadeIn(100),$createDialogFilter.fadeIn(300),$("#app_name").focus()}),$btnCloseCreateApp.click(function(){e()}),$("#apps").on("click",".btn-edit-app",function(){var e=$(this).parent().attr("data-id"),a=$(this).parent().children(".detail").children(".name").html(),t=$(this).parent().children(".detail").children(".desc").html();$("#app_id").val(e),$("#app_name").val(a),$("#app_description").val(t),$createAppDialog.fadeIn(100),$btnDeleteApp.fadeIn(100),$createDialogFilter.fadeIn(300)}),$btnSubmitCreateApp.click(function(){console.log("btnSubmitCreateApp");var e=$("#app_id").val(),a=$("#app_name").val(),t=$("#app_description").val();return""==a?!1:($.ajax({url:api_url,cache:!1,dataType:"json",type:"POST",data:{request:"submit",app_id:e,app_name:a,app_description:t},error:function(e){console.log("Request Error",e.responseText)}}).done(function(e){console.log(e),location.reload()}),void 0)}),$btnDeleteApp.click(function(){var a=$("#app_id").val(),t=$("#app_name").val();return""==a?!1:confirm('Are you sure to delete "'+t+'"?')?($.ajax({url:api_url,cache:!1,dataType:"json",type:"POST",data:{request:"delete",app_id:a},error:function(e){console.log("Request Error",e.responseText)}}).done(function(t){console.log(t),$("#app"+a).remove(),e()}),void 0):!1})});